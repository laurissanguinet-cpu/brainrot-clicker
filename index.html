<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brainrot Clicker Online</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Titan+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <audio id="bg-music" loop>
        <source src="music.mp3" type="audio/mpeg">
    </audio>

    <div id="ascend-corner-display" class="hud-corner-left">ASCENDANCE LVL 0</div>

    <div id="user-panel" class="hud-corner-right">
        <div id="logged-out-view">
            <button id="google-login-btn" onclick="window.loginGoogle()"><span>G</span> Connexion</button>
        </div>
        <div id="logged-in-view" style="display:none;">
            <div class="avatar-container">
                <img id="user-avatar" src="" alt="Avatar">
                <div class="online-dot"></div>
            </div>
            <div class="user-info">
                <span id="user-name">Joueur</span>
                <small id="save-status">Synchro...</small>
            </div>
            <button id="logout-btn" onclick="window.logoutGoogle()" title="D√©connexion">‚èª</button>
        </div>
    </div>

    <div class="game-container">
        <div class="side-icons">
            <img src="stat.png" id="stats-icon" class="floating-icon" draggable="false" title="Stats">
            <img src="classeur.png" id="collection-icon" class="floating-icon" draggable="false" title="Collection">
            <img src="lvlup.png" id="ascend-icon" class="floating-icon" draggable="false" title="Ascendance">
            <img src="leaderboard.png" id="leaderboard-icon" class="floating-icon" draggable="false" title="Classement">
            <div id="music-btn" class="floating-icon music-icon" onclick="window.toggleMusic()">üîá</div>
        </div>

        <div class="click-area">
            <div class="stats">
                <h1>Score: <span id="score">0</span></h1>
                <p>PPS: <span id="pps">0</span></p>
                <div id="golden-status" class="golden-status" style="display:none;"></div>
                <p class="bonus-text">Multiplicateur Total : <span id="global-mult-display" style="color:#00c853;">x1.0</span></p>
            </div>
            <div class="progress-container">
                <div id="progress-bar"></div>
                <span id="next-evolution-text">Chargement...</span>
            </div>
            <img src="1.png" id="main-clicker" draggable="false">
        </div>

        <div class="shop" id="shop">
            <div class="shop-header">
                <img src="brainrot.png" id="shop-title-img-header" alt="Magasin" draggable="false">
                <div class="buy-modes">
                    <button class="mode-btn active" onclick="window.setBuyAmount(1)">x1</button>
                    <button class="mode-btn" onclick="window.setBuyAmount(5)">x5</button>
                    <button class="mode-btn" onclick="window.setBuyAmount(10)">x10</button>
                    <button class="mode-btn" onclick="window.setBuyAmount(25)">x25</button>
                </div>
            </div>
            <div id="shop-items"></div>
        </div>

        <div class="footer-capsule"><span class="footer-text">Jeu fabriqu√© par <span class="author-name">Lauris Rigal</span></span></div>
    </div>

    <div id="ascend-modal" class="modal">
        <div class="modal-content">
            <div class="close-btn-container" onclick="window.closeM('ascend-modal')">&times;</div>
            <h2 style="color: #0ff;">ASCENDANCE ‚ö°</h2>
            <p>Prochain bonus : <strong id="next-ascend-bonus-text" style="color:#0f0;">+50%</strong></p>
            <p id="ascend-msg" style="font-weight: bold; margin-bottom: 15px;">...</p>
            <button id="do-ascend-btn" disabled>S'√âLEVER MAINTENANT</button>
        </div>
    </div>

    <div id="stats-modal" class="modal">
        <div class="modal-content">
            <div class="close-btn-container" onclick="window.closeM('stats-modal')">&times;</div>
            <h2>Statistiques</h2>
            <p>Meilleur Score : <span id="stat-best">0</span></p>
            <p>Clics manuels : <span id="stat-clicks">0</span></p>
            <p>Temps de jeu : <span id="stat-time">0s</span></p>
            <p>Ascendances : <span id="stat-ascend-lvl">0</span></p>
            <p>Bonus actuel : <span id="stat-bonus" style="color:#00c853;">x1.0</span></p>
            <p>P√©pites trouv√©es : <span id="stat-nuggets">0</span></p>
        </div>
    </div>

    <div id="collection-modal" class="modal">
        <div class="modal-content collection-content">
            <div class="close-btn-container" onclick="window.closeM('collection-modal')">&times;</div>
            <h2 style="margin-bottom: 20px;">Classeur Brainrot</h2>
            <div class="collection-grid" id="collection-grid"></div>
        </div>
    </div>

    <div id="leaderboard-modal" class="modal">
        <div class="modal-content" style="width: 550px; max-width: 95vw;">
            <div class="close-btn-container" onclick="window.closeM('leaderboard-modal')">&times;</div>
            <h2 style="color: #ffd700;">TOP MONDIAL üåç</h2>
            <div style="display: flex; justify-content: center; align-items: center; gap: 10px; margin-bottom: 15px;">
                <p id="auth-status-msg" style="font-size: 13px; color: #aaa; margin: 0;">Connecte-toi pour appara√Ætre !</p>
                <button id="refresh-btn" onclick="window.fetchLeaderboard()" style="background: none; border: 1px solid #0ff; color: #0ff; border-radius: 5px; cursor: pointer; padding: 2px 8px; font-size: 16px;">üîÑ</button>
            </div>
            <div class="leader-header"><span>#</span><span>Joueur</span><span>Score</span><span>‚ö°</span><span>üïí</span></div>
            <div class="leaderboard-list" id="leaderboard-list"><p>Chargement...</p></div>
        </div>
    </div>

    <script type="module" src="script.js"></script>
</body>
</html>
