<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brainrot Clicker V4.4</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Titan+One&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <audio id="bg-music" loop>
        <source src="music.mp3" type="audio/mpeg">
    </audio>

    <div id="ascend-corner-display" class="hud-corner-left">ASCENDANCE LVL 0</div>
    
    <div id="achievement-notify" class="achieve-popup">üèÜ Succ√®s D√©bloqu√© !</div>

    <div id="user-panel" class="hud-corner-right">
        <div id="logged-out-view">
            <button id="google-login-btn" onclick="window.loginGoogle()"><span>G</span> Connexion</button>
        </div>
        <div id="logged-in-view" style="display:none;">
            <div class="avatar-container">
                <img id="user-avatar" src="" alt="Avatar">
                <div class="online-dot"></div>
            </div>
            <div class="user-info">
                <span id="user-name">Joueur</span>
                <small id="save-status">Synchro...</small>
            </div>
            <button id="logout-btn" onclick="window.logoutGoogle()" title="D√©connexion">‚èª</button>
        </div>
    </div>

    <div class="game-container">
        <div class="side-icons">
            <img src="stat.png" id="stats-icon" class="floating-icon" draggable="false" title="Stats">
            <img src="classeur.png" id="collection-icon" class="floating-icon" draggable="false" title="Collection">
            
            <img src="trophee.png" id="achieve-btn" class="floating-icon" onclick="window.openAchievements()" draggable="false" title="Troph√©es">
            <img src="casino.png" id="gamble-btn" class="floating-icon" onclick="window.openGamble()" draggable="false" title="Casino">
            
            <img src="lvlup.png" id="ascend-icon" class="floating-icon" draggable="false" title="Ascendance">
            <img src="leaderboard.png" id="leaderboard-icon" class="floating-icon" draggable="false" title="Classement">
            
            <div class="music-container">
                <div id="music-btn" class="music-icon-small">üîá</div>
                <input type="range" id="volume-slider" min="0" max="1" step="0.05" value="0.3">
            </div>
        </div>

        <div class="click-area">
            <div class="stats">
                <h1>Score: <span id="score">0</span></h1>
                <p>PPS: <span id="pps">0</span></p>
                <div id="golden-status" class="golden-status" style="display:none;"></div>
                <p class="bonus-text">Multiplicateur Total : <span id="global-mult-display" style="color:#00c853;">x1.0</span></p>
            </div>
            <div class="progress-container">
                <div id="progress-bar"></div>
                <span id="next-evolution-text">Chargement...</span>
            </div>
            <img src="1.png" id="main-clicker" draggable="false">
        </div>

        <div class="shop" id="shop">
            <div class="shop-header">
                <img src="brainrot.png" id="shop-title-img-header" alt="Magasin" draggable="false">
                <div class="buy-modes">
                    <button class="mode-btn active" onclick="window.setBuyAmount(1)">x1</button>
                    <button class="mode-btn" onclick="window.setBuyAmount(5)">x5</button>
                    <button class="mode-btn" onclick="window.setBuyAmount(10)">x10</button>
                    <button class="mode-btn" onclick="window.setBuyAmount(25)">x25</button>
                </div>
            </div>
            <div id="shop-items"></div>
        </div>

        <div class="footer-capsule"><span class="footer-text">Jeu fabriqu√© par <span class="author-name">Lauris Rigal</span></span></div>
    </div>

    <div id="ascend-modal" class="modal">
        <div class="modal-content">
            <div class="close-btn-container" onclick="window.closeM('ascend-modal')">&times;</div>
            <h2 style="color: #0ff;">ASCENDANCE ‚ö°</h2>
            <p>Prochain bonus : <strong id="next-ascend-bonus-text" style="color:#0f0;">+50%</strong></p>
            <p id="ascend-msg" style="font-weight: bold; margin-bottom: 15px;">...</p>
            <p style="font-size: 11px; color: #ff4444;">Attention : √Ä partir du niveau 4, le co√ªt explose !</p>
            <button id="do-ascend-btn" disabled>S'√âLEVER MAINTENANT</button>
        </div>
    </div>

    <div id="gamble-modal" class="modal">
        <div class="modal-content" style="border-color: #ff00ff; width: 450px;">
            <div class="close-btn-container" onclick="window.closeM('gamble-modal')">&times;</div>
            <h2 style="color: #ff00ff;">ROUE DE LA FORTUNE üé°</h2>
            
            <div class="wheel-wrapper">
                <div class="wheel-pointer">üîª</div>
                <div id="wheel" class="wheel"></div>
            </div>

            <p style="margin-top: 15px;">Vert = x2 | Rouge = Tout Perdre</p>
            
            <div class="gamble-buttons">
                <button id="btn-gamble-10" class="gamble-btn" onclick="window.spinWheel(0.1)">Miser 10%</button>
                <button id="btn-gamble-50" class="gamble-btn" onclick="window.spinWheel(0.5)">Miser 50%</button>
                <button id="btn-gamble-all" class="gamble-btn danger" onclick="window.spinWheel(1)">ALL IN</button>
            </div>
            <div id="gamble-result" class="gamble-result">Faites vos jeux !</div>
        </div>
    </div>

    <div id="achieve-modal" class="modal">
        <div class="modal-content" style="width: 600px; max-width: 95vw;">
            <div class="close-btn-container" onclick="window.closeM('achieve-modal')">&times;</div>
            <h2 style="color: #ffd700;">TROPH√âES üèÜ</h2>
            <p style="margin-bottom: 15px; color:#aaa;">Bonus actuel : <span id="achieve-total-bonus" style="color:#0f0; font-weight:bold;">x1.00</span></p>
            <div id="achieve-list" class="achieve-list"></div>
        </div>
    </div>

    <div id="stats-modal" class="modal">
        <div class="modal-content">
            <div class="close-btn-container" onclick="window.closeM('stats-modal')">&times;</div>
            <h2>Statistiques</h2>
            <p>Meilleur Score : <span id="stat-best" style="color:#0ff">0</span></p>
            <p>Clics manuels : <span id="stat-clicks">0</span></p>
            <p>Temps de jeu : <span id="stat-time">0s</span></p>
            <p>Ascendances : <span id="stat-ascend-lvl">0</span></p>
            <p>Bonus actuel : <span id="stat-bonus" style="color:#00c853;">x1.0</span></p>
            <p>P√©pites trouv√©es : <span id="stat-nuggets" style="color:#ffd700">0</span></p>
            <p>Paris Gagn√©s : <span id="stat-gamble-wins" style="color:#ff00ff">0</span></p>
        </div>
    </div>

    <div id="collection-modal" class="modal">
        <div class="modal-content collection-content">
            <div class="close-btn-container" onclick="window.closeM('collection-modal')">&times;</div>
            <h2 style="margin-bottom: 20px;">Classeur Brainrot</h2>
            <div class="collection-grid" id="collection-grid"></div>
        </div>
    </div>

    <div id="leaderboard-modal" class="modal">
        <div class="modal-content" style="width: 550px; max-width: 95vw;">
            <div class="close-btn-container" onclick="window.closeM('leaderboard-modal')">&times;</div>
            <h2 style="color: #ffd700;">TOP MONDIAL üåç</h2>
            <div style="display: flex; justify-content: center; align-items: center; gap: 10px; margin-bottom: 15px;">
                <p id="auth-status-msg" style="font-size: 13px; color: #aaa; margin: 0;">Connecte-toi pour appara√Ætre !</p>
                <button id="refresh-btn" onclick="window.fetchLeaderboard()" style="background: none; border: 1px solid #0ff; color: #0ff; border-radius: 5px; cursor: pointer; padding: 2px 8px; font-size: 16px;">üîÑ</button>
            </div>
            <div class="leader-header"><span>#</span><span>Joueur</span><span>Score</span><span>‚ö°</span><span>üïí</span></div>
            <div class="leaderboard-list" id="leaderboard-list"><p>Chargement...</p></div>
        </div>
    </div>

    <script type="module" src="script.js"></script>
</body>
</html>
